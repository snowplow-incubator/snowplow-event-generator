{
  # Events to generate and send
  "events": {
    # Possible values: CollectorPayloads, Enriched, Http
    "type": "CollectorPayloads"

    # Only for enriched events
    #
    # Format of the enriched events. Possible values: TSV, JSON
    # "format": {
    #   "type": "TSV"
    # }
    # Whether to generate enrichments contexts
    # "generateEnrichments": true

    # Only for HTTP requests
    #
    # Set weights for the distributions of HTTP methods
    # Setting a fequency to 0 results in that method not being produced at all
    # Setting equal values results in an even distribution of methods
    # "methodFrequencies": {
    #   "post": 1
    #   "get": 1
    #   "head": 0 # Has to be 0
    # }
    #
    # Only generate valid events that will pass enrichment
    # When false (default), some requests use invalid endpoints or empty bodies for fuzzing
    # "validEventsOnly": false
  }

  # Where to send generated events to
  "output": {
    "type": "Kinesis"
    "streamName": "sp-raw"
    "region": "eu-central-1" # Optional

    # "type": "PubSub"
    # "topic":  "/projects/<project-id>/topics/<topic-id>"

    # "type": "Kafka"
    # "brokers": "broker:9092"
    # "topic": "collectorPayloads"
    # "producerConf": {
    #   "acks": "all"
    # }

    # "type": "Http"
    # "endpoint": "https://aws-sandbox-dev1.collector.snplow.net"

    # "type": "File"
    # "path": "file:///tmp/generated"
    # "eventsPerFile": 1000
    # "compress": false # GZIP

    # "type": "Stdout"
  }

  # Optional. Number of events to generate in total
  # If not set, events will get generated forever
  # "eventsTotal": 1000

  # Timestamp to use in the events
  "timestamp": {
    # Start up time of event generator is used in all the events
    "type": "Now"

    # "type": "Fixed"
    # "at": "2022-02-01T01:01:01z"
  }

  # Optional. App ID to use in the events
  # If not set, each event will get a new app ID
  # "appId": "my-app"

  # Optional. Seed to use to generate events
  # For a same seed, the same event will get deterministically generated
  # If not set, each event will get generated randomly
  # "seed": 42

  "eventsPerPayload": {
    # Minimum number of events per collector payload or HTTP request
    # Single event has a 1:1 odds of getting sent via GET or POST
    # Multiple events are always sent via POST
    "min": 1

    # Maximum number of events per collector payload or HTTP request
    # Single event has a 1:1 odds of getting sent via GET or POST
    # Multiple events are always sent via POST
    "max": 1
  }

  # Set weights for the distributions of event types
  # Setting a fequency to 0 results in that event type not being produced at all
  # Setting equal values results in an even distribution of event types
  "eventFrequencies": {
    "struct": 1
    "unstruct": 1
    "pageView": 1
    "pagePing": 1
    "unstructEventFrequencyDefault": 1
    "unstructEventFrequencies": {
      "change_form": 1
      "funnel_interaction": 1
      "link_click": 1
    }
  }

  # Limits on how many self-describing entities can be attached to each event
  # The actual number will be randomly chosen for each event
  "contextsPerEvent": {
    "min": 0
    "max": 10
  }

  "duplicates": {
    # Probablity of full event duplicate (between 0 and 1)
    "natProb": 0.0

    # Probablity of synthetic event duplicate (only eid) (between 0 and 1)
    "synProb": 0.0

    # Pool size for the natural duplicates
    # Setting it to 1 means that same events gets duplicated all the time
    # If total number of events is less than pool size, it might not generate any duplicates
    # Note that it could duplicate synthetic duplicate, as natural duplication is applied later
    "natTotal": 1

    # Pool size for the sythetic duplicates (same eid but different everything else)
    # Setting it to 1 means that same event ID gets duplicated all the time
    # If total number of events is less than pool size, it might not generate any duplicates
    "synTotal": 1
  }

  # Control the rate at which events are sent & number of events sent
  # Every tickMillis, generator will send a batch whose size equals eventsPerSecond * tickMillis / 1000
  "rate": {
    "eventsPerSecond": 400
    "tickMillis": 500
  }

  # Optional user graph configuration for realistic user behavior
  #
  # KEY CONCEPTS:
  # - Real users: Fixed number of actual people (numUsers)
  # - Identifiers: Each user has a pool of cookies, devices, IPs
  # - Cross-user sharing: Some users share identifiers (households, ISPs, etc.)
  #
  # "userGraph": {
  #   # Total number of distinct real users (people) in the pool
  #   "numUsers": 3000000
  #
  #   # Shared identifier rate: fraction of users who share identifiers (0.0 to 1.0)
  #   # Controls cross-user identifier sharing (households, ISPs, shared devices)
  #   "sharedIdentifierRate": 0.05
  #
  #   # How many identifiers each user has in their pool
  #   "identifiersPerUser": {
  #     "cookie": 4   # Each user has up to 4 different cookies
  #     "device": 4   # Each user has up to 4 different devices
  #     "ip": 5       # Each user has up to 5 different IPs
  #   }
  #
  #   # Probability that an event includes authenticated user_id (0.0 to 1.0)
  #   # 0.65 = 65% of events include authenticated user_id
  #   "authenticationRate": 0.65
  #
  #   # Distribution of events across users
  #   # "PowerLaw" = 80% of events from 20% of users (Pareto distribution)
  #   # "Uniform" = even distribution across all users
  #   "distribution": {
  #     "type": "PowerLaw"
  #   }
  #
  # }

  # Example configurations:
  #
  # Easy: Minimal cross-user sharing (0.1% of users affected)
  # "userGraph": {
  #   "numUsers": 9000000
  #   "sharedIdentifierRate": 0.001
  #   "identifiersPerUser": { "cookie": 2, "device": 2, "ip": 3 }
  #   "authenticationRate": 0.97
  #   "distribution": { "type": "PowerLaw" }
  # }
  #
  # Heavy sharing (50% of users affected, likely misconfiguration scenario)
  # "userGraph": {
  #   "numUsers": 1000000
  #   "sharedIdentifierRate": 0.50
  #   "identifiersPerUser": { "cookie": 7, "device": 6, "ip": 10 }
  #   "authenticationRate": 0.50
  #   "distribution": { "type": "PowerLaw" }
  # }
  #
  # Multi-app - Different apps sharing same user pool:
  # Models cross-platform user behavior (website + mobile app + API)
  # "appProfiles": [
  #   {
  #     "appId": "web-app"
  #     "weight": 60  # 60% of events come from this app
  #     "userGraph": {
  #       "numUsers": 10000000  # Total real users across all apps
  #       "sharedIdentifierRate": 0.05
  #       "identifiersPerUser": { "cookie": 3, "device": 2, "ip": 3 }
  #       "authenticationRate": 0.80
  #       "distribution": { "type": "PowerLaw" }
  #       "activeUserRate": 0.35  # 35% of users are active on this app
  #     }
  #   },
  #   {
  #     "appId": "mobile-app"
  #     "weight": 30  # 30% of events come from this app
  #     "userGraph": {
  #       "numUsers": 10000000  # Same pool (some users use multiple apps)
  #       "sharedIdentifierRate": 0.08
  #       "identifiersPerUser": { "cookie": 4, "device": 3, "ip": 4 }
  #       "authenticationRate": 0.70
  #       "distribution": { "type": "PowerLaw" }
  #       "activeUserRate": 0.15  # 15% of users are active on this app
  #     }
  #   },
  #   {
  #     "appId": "api-service"
  #     "weight": 10  # 10% of events come from this app
  #     "userGraph": {
  #       "numUsers": 10000000  # Same pool
  #       "sharedIdentifierRate": 0.02
  #       "identifiersPerUser": { "cookie": 2, "device": 1, "ip": 2 }
  #       "authenticationRate": 0.95
  #       "distribution": { "type": "PowerLaw" }
  #       "activeUserRate": 0.05  # 5% of users are active on this app
  #     }
  #   }
  # ]
}
